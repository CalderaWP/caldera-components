<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Caldera Components library</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="UI components for Caldera Forms admin, Caldera Forms 2.0 front-end"><meta property="og:type" content="website"><meta property="og:url" content="http://calderalabs.org/caldera-components/"><meta property="og:site_name" content="Caldera Components library"><meta property="og:title" content="Caldera Components library"><meta property="og:image" content="https://calderaforms.com/wp-content/themes/caldera-forms-dot-com/img/caldera-forms-logo.svg"><meta property="og:description" content="UI components for Caldera Forms admin, Caldera Forms 2.0 front-end"><meta property="og:author" content="http://calderalabs.org"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Caldera Components library"><meta property="twitter:description" content="UI components for Caldera Forms admin, Caldera Forms 2.0 front-end"><meta property="twitter:image" content="https://calderaforms.com/wp-content/themes/caldera-forms-dot-com/img/caldera-forms-logo.svg"></head>
<body class="layout-container manual-root manual-index" data-ice="rootContainer">

<header>
  <a href="./" style="display: flex; align-items: center;"><img src="./image/brand_logo.svg" style="width:34px;"></a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/calderawp/caldera-components"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/components.html"><a href="manual/components.html" data-ice="link">Included Components</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/components.html"><a href="manual/components.html#factories" data-ice="link">Factories</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/components.html"><a href="manual/components.html#rendergroup" data-ice="link">RenderGroup</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/components.html"><a href="manual/components.html#field-groups" data-ice="link">Field Groups</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/components.html"><a href="manual/components.html#text-field-that-is-required" data-ice="link">Text field that is required</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/components.html"><a href="manual/components.html#text-field-that-is-not-required" data-ice="link">Text field that is not required</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/components.html"><a href="manual/components.html#text-field-with-help-text" data-ice="link">Text field with help text</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/components.html"><a href="manual/components.html#number-field" data-ice="link">Number Field</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/components.html"><a href="manual/components.html#select-fields" data-ice="link">Select Fields</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/testing.html"><a href="manual/testing.html" data-ice="link">Testing</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/testing.html"><a href="manual/testing.html#unit-testing" data-ice="link">Unit Testing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#example--snapshot-testing-a-component" data-ice="link">Example: Snapshot Testing A Component</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#example--testing-a-function-result" data-ice="link">Example: Testing a function result</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/testing.html"><a href="manual/testing.html#dom-testing" data-ice="link">DOM Testing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#example" data-ice="link">Example</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#important-notes" data-ice="link">Important Notes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#shallow-vs-full-rendering" data-ice="link">shallow vs full rendering</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/testing.html"><a href="manual/testing.html#be-careful-about-copying-from-enzyme--39-s-docs" data-ice="link">Be careful about copying from Enzyme&apos;s docs</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/README.html"><a href="manual/README.html" data-ice="link">Caldera Components</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.html"><a href="manual/README.html#what-is-this-" data-ice="link">What Is This?</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.html"><a href="manual/README.html#why-is-this-" data-ice="link">Why Is This?</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.html"><a href="manual/README.html#how-to-use-this" data-ice="link">How To Use This</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/README.html"><a href="manual/README.html#install" data-ice="link">Install</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/README.html"><a href="manual/README.html#usage" data-ice="link">Usage</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#basic-example" data-ice="link">Basic Example</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/README.html"><a href="manual/README.html#how-to-develop-this" data-ice="link">How To Develop This</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/README.html"><a href="manual/README.html#development-requirements" data-ice="link">Development Requirements</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/README.html"><a href="manual/README.html#testing" data-ice="link">Testing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/README.html"><a href="manual/README.html#scripts" data-ice="link">Scripts</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#develop" data-ice="link">Develop</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#tests" data-ice="link">Tests</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#lint-code" data-ice="link">Lint Code</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#generate-documentation" data-ice="link">Generate Documentation</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/README.html"><a href="manual/README.html#release-to-npm" data-ice="link">Release To npm</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-user-index" data-ice="manualUserIndex"><h1 id="caldera-components">Caldera Components</h1><h2 id="goals">Goals</h2><ul>
<li>Have a repeatable systems for creating fields and field configuration for the Caldera Forms admin interface.</li>
<li>Have a factory that can consume a configuration like <a href="https://calderaforms.com/doc/creating-caldera-forms-processors-using-caldera_forms_processor_processor-class/">the PHP class <code>Caldera_Forms_Processor_UI</code></a> but beacuse the factory runs client-side, they can update in real time.</li>
<li>Wrap this in a processor UI library that can dynamically generate processor configs, using an array managed by redux.</li>
</ul>
</div>

  

  <div class="manual-cards">
    
  <div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Included Components</h1><h2>Factories</h2><p>In general, do not use the components, use the factories or <code>RenderGroup</code></p><h2>RenderGroup</h2><p>The <code>RenderGroup</code> component takes an array of field configs and generates UI for them. For example:</p><pre><code class="lang-jsx"><code class="source-code prettyprint">const textFieldConfig = {
    &apos;id&apos;: &apos;cf-something-tags&apos;,
    &apos;label&apos;: &apos;Tags&apos;,
    &apos;desc&apos;: &apos;Comma separated list of tags.&apos;,
    &apos;type&apos;: &apos;text&apos;,
    &apos;description&apos;: false,
    value: &apos;Roy,Mike&apos;,
    onValueChange: (newValue) =&gt;{
        console.log(newValue)
    }
};

const hiddenFieldConfig = {
    &apos;id&apos;: &apos;cf-something-sequence-id&apos;,
    &apos;type&apos;: &apos;hidden&apos;,
    &apos;label&apos;: &apos;Sequence ID&apos;,
    &apos;description&apos;: false,
    value: &apos;42&apos;,
        onValueChange: (newValue) =&gt;{
            console.log(newValue)
        }
};

const selectFieldConfig = {
    &apos;id&apos;: &apos;cf-something-select-id&apos;,
    &apos;type&apos;: &apos;dropdown&apos;,
    &apos;label&apos;: &apos;Content type&apos;,
    &apos;description&apos;: &apos;Choose content type, default is HTML&apos;,
    options: [
        {
            label: &apos;HTML&apos;,
            value: &apos;html&apos;
        },
        {
            label: &apos;Plain Text&apos;,
            value: &apos;plain&apos;
        }
    ],
    value: &apos;html&apos;,
    onValueChange: (newValue) =&gt;{
        console.log(newValue)
    }
};

const configFields = [
    textFieldConfig,
    hiddenFieldConfig,
    selectFieldConfig
];

&lt;RenderGroup
    configFields={configFields}
    className={&apos;cf-something-config&apos;}
 /&gt; </code>
</code></pre><h2>Field Groups</h2><p>If you have to use a component, please use <code>FieldGroup</code> not its inner components.</p><h3>Text field that is required</h3><pre><code class="lang-jsx"><code class="source-code prettyprint">&lt;FieldGroup
    id={&apos;control-22&apos;}
    label={&apos;Required Text input&apos;}
    type={&apos;input&apos;}
    isRequired={true}
    value={values.one}
    onValueChange={(newValue) =&gt; {
        values.one=newValue;
    }}
/&gt;
</code>
</code></pre><h3>Text field that is not required</h3><pre><code class="lang-jsx"><code class="source-code prettyprint">&lt;FieldGroup
    id={&apos;control-23&apos;}
    label={&apos;Non Required Text input&apos;}
    type={&apos;input&apos;}
    isRequired={true}
    value={values.two}
    onValueChange={(newValue) =&gt; {
        values.two=newValue;
    }}
/&gt;</code>
</code></pre><h3>Text field with help text</h3><ul>
<li>Adding help text automatically ads <code>aria-describedby</code></li>
</ul><pre><code class="lang-jsx"><code class="source-code prettyprint">&lt;FieldGroup
    id={&apos;control-23&apos;}
    label={&apos;With Help Text&apos;}
    type={&apos;input&apos;}
    isRequired={true}
    help={&apos;Adding help text sets aria-describedy&apos;}
    value={values.thre}
    onValueChange={(newValue) =&gt; {
        values.three=newValue;
    }}
/&gt;</code>
</code></pre><h3>Number Field</h3><pre><code class="lang-jsx"><code class="source-code prettyprint">&lt;FieldGroup
    id={&apos;control-24&apos;}
    label={&apos;Non Required Numeric input&apos;}
    type={&apos;input&apos;}
    innertype={&apos;number&apos;}
    isRequired={true}
    value={values.two}
    onValueChange={(newValue) =&gt; {
        values.two=newValue;
    }}
/&gt;
</code>
</code></pre><h2>Select Fields</h2></div>
        <a data-ice="link" href="manual/components.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Testing</h1><h2>Unit Testing</h2><p>Tests use <a href="https://facebook.github.io/jest/docs/en/expect.html">Jest</a>. Unit tests are primarily snapshots of components or tests of function results</p><h3>Example: Snapshot Testing A Component</h3><pre><code><code class="source-code prettyprint">it( &apos;Passes its props&apos;, () =&gt; {
    const component = renderer.create(
        &lt;Input
            id={&apos;bags&apos;}
            fieldClassName={&apos;foo&apos;}
            onValueChange={() =&gt; {}}
        /&gt;
    );
    expect( component.toJSON() ).toMatchSnapshot();
});</code>
</code></pre><h3>Example: Testing a function result</h3><pre><code><code class="source-code prettyprint">it(&apos;Returns properly when passed help text&apos;, () =&gt; {
    expect(ariaDescribedbyAttr(&apos;foo&apos;, &apos;help me Obi-won Kenobi&apos;)).toEqual(&apos;foo-description&apos;);
});
</code>
</code></pre><h2>DOM Testing</h2><p>DOM testing uses Jest and <a href="http://airbnb.io/enzyme">Enzyme</a>.</p><h3>Example</h3><pre><code class="lang-js"><code class="source-code prettyprint">
import { shallow, mount, render } from &apos;enzyme&apos;;
import Enzyme from &apos;enzyme&apos;;
import Adapter from &apos;enzyme-adapter-react-16&apos;;

Enzyme.configure({ adapter: new Adapter() });

it( &apos;Has the right wrapper class&apos;, () =&gt; {
    const wrapper = shallow(&lt;FieldGroup
        id={&apos;whatever&apos;}
        label={&apos;does not matter&apos;}
        type={&apos;input&apos;}
    /&gt;);
    expect(wrapper.find(&apos;div.caldera-config-group&apos;).length).toBe(1);
});</code>
</code></pre><h3>Important Notes</h3><h3>shallow vs full rendering</h3><p>Shallow rendering is preferred. Full rendering with <code>mount</code> should be used for containers or testing decedents of a component.</p><ul>
<li><a href="http://airbnb.io/enzyme/docs/api/shallow.html">http://airbnb.io/enzyme/docs/api/shallow.html</a></li>
<li><a href="http://airbnb.io/enzyme/docs/api/mount.html">http://airbnb.io/enzyme/docs/api/mount.html</a></li>
</ul><h3>Be careful about copying from Enzyme&apos;s docs</h3><p>Enzyme&apos;s docs use a different assertion library than we do. Therefore examples like this:</p><pre><code><code class="source-code prettyprint">it(&apos;allows us to set props&apos;, () =&gt; {
    const wrapper = mount(&lt;Foo bar=&quot;baz&quot; /&gt;);
    expect(wrapper.props().bar).to.equal(&apos;baz&apos;);
});</code>
</code></pre><p><a href="http://airbnb.io/enzyme/docs/api/mount.html">see original</a></p><p>Would be rewritten as this:</p><pre><code class="lang-js"><code class="source-code prettyprint">it(&apos;allows us to set props&apos;, () =&gt; {
    const wrapper = mount(&lt;Foo bar=&quot;baz&quot; /&gt;);
    expect(wrapper.props().bar).toEqual(&apos;baz&apos;);
});</code>
</code></pre></div>
        <a data-ice="link" href="manual/testing.html"></a>
      </div>
    </div>
<div class="manual-card-wrap" data-ice="cards">
      <div class="manual-card">
        <div data-ice="card"><h1>Caldera Components</h1><p>UI components for Caldera Forms admin, Caldera Forms 2.0 front-end</p><p><a href="https://travis-ci.org/calderawp/caldera-components"><img src="https://travis-ci.org/calderawp/caldera-components.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/calderawp/caldera-components?branch=master"><img src="https://coveralls.io/repos/github/calderawp/caldera-components/badge.svg?branch=master" alt="Coverage Status"></a></p><p>&#x1F30B; <a href="http://calderalabs.org/caldera-components/">Documentation</a></p><h2>What Is This?</h2><ul>
<li>React components for Caldera Forms</li>
<li>Factories for generating UI dynamically.</li>
</ul><h2>Why Is This?</h2><p><a href="http://calderalabs.org/caldera-components/#goals">See goals</a></p><h2>How To Use This</h2><h3>Install</h3><p><code>npm i -D @caldera-labs/components</code></p><h3>Usage</h3><ul>
<li><a href="http://calderalabs.org/caldera-components/manual/components.html">Components</a></li>
<li><a href="http://calderalabs.org/caldera-components/manual/factories.html">Factories</a></li>
<li>Import From Webpack<ul>
<li><code>import * as CalderaComponents from &apos;@caldera-labs/components&apos;;</code></li>
</ul>
</li>
</ul><h4>Basic Example</h4><p><code>`</code>jsx harmony
import * as CalderaComponents from &apos;@caldera-labs/components&apos;;
import React from &apos;react&apos;;</p><p>&lt;CalderaComponents.RenderGroup 
    className={&apos;cf-something-config&apos;}
    configFields={[</p><pre><code><code class="source-code prettyprint">    {
        &apos;id&apos;: &apos;cf-something-select-id&apos;,
        &apos;type&apos;: &apos;dropdown&apos;,
        &apos;label&apos;: &apos;Content type&apos;,
        &apos;description&apos;: &apos;Choose content type, default is HTML&apos;,
        options: [
            {
                label: &apos;HTML&apos;,
                value: &apos;html&apos;
            },
            {
                label: &apos;Plain Text&apos;,
                value: &apos;plain&apos;
            }
        ],
        value: &apos;html&apos;,
        onValueChange: (newValue) =&gt;{
            console.log(newValue)
        }
    }
]}</code>
</code></pre><p>/&gt;</p><p><code>`</code></p><h2>How To Develop This</h2><h3>Development Requirements</h3><ul>
<li><a href="https://www.npmjs.com/get-npm">npm</a></li>
<li><a href="https://yarnpkg.com/lang/en/docs/install/#mac-stable">Yarn</a></li>
<li><a href="">Git</a></li>
</ul><h3>Testing</h3><p><a href="http://calderalabs.org/caldera-components/manual/testing.html">See testing documentation</a></p><h3>Scripts</h3><h4>Develop</h4><ul>
<li><code>yarn start</code><ul>
<li>Runs linter and compiles for production</li>
<li>Starts test app server</li>
</ul>
</li>
</ul><h4>Tests</h4><ul>
<li><code>yarn test</code><ul>
<li>Run test watcher</li>
</ul>
</li>
<li><code>npm test:once</code> <ul>
<li>Run tests once</li>
</ul>
</li>
</ul><h4>Lint Code</h4><ul>
<li><code>yarn lint</code><ul>
<li>Run linter and fixer watch</li>
</ul>
</li>
<li><code>yarn lint:fix</code><ul>
<li>Lint and fix code once</li>
</ul>
</li>
<li><code>yarn lint:once</code><ul>
<li>Lint code once</li>
</ul>
</li>
</ul><h4>Generate Documentation</h4><ul>
<li><code>npm run documentation</code><ul>
<li>Generates documentation from inline docs</li>
<li>Generates documentation from markdown files in /manual</li>
</ul>
</li>
</ul><h4>Release To npm</h4><p>Must be <a href="https://docs.npmjs.com/cli/adduser">logged in as project maintainer via npm cli</a></p><ul>
<li><code>yarn release</code><ul>
<li>Release a patch update</li>
<li>Increments third position of a version. 1.0.1 -&gt; 1.0.2</li>
</ul>
</li>
<li><code>yarn release:minor</code><ul>
<li>Release a minor update</li>
<li>Increments second position of a version. 1.0.1 -&gt; 1.1.0 </li>
</ul>
</li>
<li><code>yarn release:major</code><ul>
<li>Release a major update</li>
<li>Increments second position of a version. 1.0.1 -&gt; 2.0.0 </li>
</ul>
</li>
</ul><p>These commands run the tests and linter, and if they pass, re-compiles source, rebuilds docs, updates the version using <a href="https://docs.npmjs.com/cli/version">npm version</a>, adds a git tag, makes a git commit for the version change and updates the module on npm.</p></div>
        <a data-ice="link" href="manual/README.html"></a>
      </div>
    </div>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
